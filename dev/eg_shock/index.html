<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Shock tube problem · Kinetic.jl</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">Kinetic.jl</span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../install/">Installation</a></li><li><input class="collapse-toggle" id="menuitem-3" type="checkbox" checked/><label class="tocitem" for="menuitem-3"><span class="docs-label">Tutorial</span><i class="docs-chevron"></i></label><ul class="collapsed"><li class="is-active"><a class="tocitem" href>Shock tube problem</a><ul class="internal"><li><a class="tocitem" href="#Shock-tube-problem"><span>Shock tube problem</span></a></li></ul></li><li><a class="tocitem" href="../eg_cavity/">Lid-driven cavity</a></li></ul></li><li><a class="tocitem" href="../physics/">Physics</a></li><li><input class="collapse-toggle" id="menuitem-5" type="checkbox"/><label class="tocitem" for="menuitem-5"><span class="docs-label">Type</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../type/">General</a></li><li><a class="tocitem" href="../type_1d/">One-dimensional data</a></li><li><a class="tocitem" href="../type_2d/">Two-dimensional data</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-6" type="checkbox"/><label class="tocitem" for="menuitem-6"><span class="docs-label">Solver</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../solver/">General</a></li><li><a class="tocitem" href="../solver_pre/">Preprocess</a></li><li><a class="tocitem" href="../solver_timestep/">Timestep</a></li><li><a class="tocitem" href="../solver_reconstruction/">Reconstruction</a></li><li><a class="tocitem" href="../solver_flux/">Flux</a></li><li><a class="tocitem" href="../solver_update/">Update</a></li><li><a class="tocitem" href="../solver_post/">Postprocess</a></li></ul></li><li><a class="tocitem" href="../parallel/">Parallelization</a></li><li><input class="collapse-toggle" id="menuitem-8" type="checkbox"/><label class="tocitem" for="menuitem-8"><span class="docs-label">Utility</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../api_io/">I / O</a></li><li><a class="tocitem" href="../api_math/">Math</a></li><li><a class="tocitem" href="../api_theory/">Theory</a></li><li><a class="tocitem" href="../api_geo/">Physical Space</a></li><li><a class="tocitem" href="../api_phase/">Phase Space</a></li><li><a class="tocitem" href="../api_config/">Configuration</a></li><li><a class="tocitem" href="../api_step/">Stepper</a></li></ul></li><li><a class="tocitem" href="../kitml/">KitML</a></li><li><a class="tocitem" href="../kitfort/">KitFort</a></li><li><a class="tocitem" href="../function_index/">Index</a></li><li><a class="tocitem" href="../contribution/">Contribution</a></li><li><a class="tocitem" href="../reference/">Reference</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Tutorial</a></li><li class="is-active"><a href>Shock tube problem</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Shock tube problem</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/vavrines/Kinetic.jl/blob/master/docs/src/eg_shock.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Tutorial"><a class="docs-heading-anchor" href="#Tutorial">Tutorial</a><a id="Tutorial-1"></a><a class="docs-heading-anchor-permalink" href="#Tutorial" title="Permalink"></a></h1><p>Thanks to the brilliant expressiveness and low-overhead abstraction, we provide different levels of solution algorithm for modeling and simulating advection-diffusion dynamics. The high-level solver is able to solve complex physics in a few lines, while the low-level APIs keep all the detailed implementations and are easy to be called from Python and C. In the following, we present two quick tutorials to illustrate the usage of Kinetic.</p><h2 id="Shock-tube-problem"><a class="docs-heading-anchor" href="#Shock-tube-problem">Shock tube problem</a><a id="Shock-tube-problem-1"></a><a class="docs-heading-anchor-permalink" href="#Shock-tube-problem" title="Permalink"></a></h2><p>We first solve the shock tube problem in gas dynamics. It&#39;s a two dimensional problem, with one in physical domain <span>$x$</span> and another in particle velocity domain <span>$u$</span>. First let us prepare the configuration file as</p><pre><code class="language-none"># case
case = sod
space = 1d2f1v
nSpecies = 1
flux = kfvs
collision = bgk
interpOrder = 2
limiter = vanleer
boundary = fix
cfl = 0.5
maxTime = 0.2

# physical space
x0 = 0
x1 = 1
nx = 200
pMeshType = uniform
nxg = 1

# velocity space
vMeshType = rectangle
umin = -5
umax = 5
nu = 28
nug = 0

# gas
knudsen = 0.0001
mach = 0.0
prandtl = 1
inK = 2
omega = 0.81
alphaRef = 1.0
omegaRef = 0.5</code></pre><p>The configuration file can be understood as follows:</p><ul><li>The simulation case is the standard Sod shock tube</li><li>A phase space in 1D physical and 1D velocity space is created with two particle distribution functions inside</li><li>The numerical flux function is the kinetic flux vector splitting method and the collision term uses the BGK relaxation</li><li>The reconstruction step employs van Leer limiter to create 2nd-order interpolation</li><li>The two boundaries are fixed with Dirichlet boundary condition</li><li>The timestep is determined with a CFL number of 0.5</li><li>The maximum simulation time is 0.2</li><li>The physical space spans in [0, 1] with 200 uniform cells</li><li>The velocity space spans in [-5, 5] with 28 uniform cells</li><li>The reference Knudsen number is set as 1e-4</li><li>The reference Mach number is absent</li><li>The reference Prandtl number is 1</li><li>The gas molecule contains two internal degrees of freedom</li><li>The viscosity is evaluated with the following formulas</li></ul><p class="math-container">\[\mu = \mu_{ref} \left(\frac{T}{T_{ref}}\right)^{\omega}\]</p><p class="math-container">\[\mu_{ref}=\frac{5(\alpha+1)(\alpha+2) \sqrt{\pi}}{4 \alpha(5-2 \omega)(7-2 \omega)} Kn_{ref}\]</p><p>The configuration file directly generate variables during runtime via meta-programming in Julia, and it can be stored in any text format (txt, toml, cfg, etc.).  For example, if <code>config.txt</code> is created,  we then execute the following codes to conduct a simulation</p><pre><code class="language-julia">using Kinetic
set, ctr, face, t = initialize(&quot;config.txt&quot;)
t = solve!(set, ctr, face, t)</code></pre><p>The computational setup is stored in <code>set</code> and the control volume solutions are stored in <code>ctr</code> and <code>face</code>.  The high-level solver <code>solve!</code> is equivalent as the following low-level procedures</p><pre><code class="language-julia">dt = timestep(ks, ctr, t)
nt = Int(floor(ks.set.maxTime / dt))
res = zeros(3)
for iter = 1:nt
    reconstruct!(ks, ctr)
    evolve!(ks, ctr, face, dt)
    update!(ks, ctr, face, dt, res)
end</code></pre><p>The result can be visualized with built-in function <code>plot_line</code>, which presents the profiles of gas density, velocity and temperature inside the tube.</p><pre><code class="language-julia">plot_line(set, ctr)</code></pre><p><img src="../assets/sod.png" alt/></p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../install/">« Installation</a><a class="docs-footer-nextpage" href="../eg_cavity/">Lid-driven cavity »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Friday 22 January 2021 18:44">Friday 22 January 2021</span>. Using Julia version 1.5.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
